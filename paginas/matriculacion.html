<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inscripción</title>

    <!-- CSS global -->
    <link rel="stylesheet" href="../css/estilos.css" />

    <!-- EmailJS (opcional, ya inicializado si usás) -->
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script>
        (function() {
            if (window.emailjs) {
                try {
                    emailjs.init("AElZjJ9bxHXGrEZ74");
                } catch (e) { /* noop */ }
            }
        })();
    </script>

    <!-- JS del formulario (ruta corregida) -->
    <script src="../js/inscripcion.js" defer></script>

    <!-- JS del header / menú (toggle + submenu) -->
    <script src="../js/bienvenida.js" defer></script>

</head>
<body>

    <!-- HEADER UNIFICADO -->
    <header class="header">
        <div class="logo">Mi Proyecto</div>
        <div class="mobile-toggle" id="mobile-toggle">☰</div>
        <nav class="nav">
            <ul class="menu">
                <li><a href="../index.html">Página Principal</a></li>

                <li class="submenu">
                    <a href="#">Banco</a>
                    <ul>
                        <li><a href="../paginas/banco_tabla.html">Tabla</a></li>
                        <li><a href="../paginas/banco_miembros.html">Miembros</a></li>
                    </ul>
                </li>

                <li><a href="../paginas/galeria.html">Galería</a></li>
                <li><a href="../paginas/operaciones.html">Operaciones</a></li>

                <li class="submenu">
                    <a href="#">Formularios</a>
                    <ul>
                        <li><a href="../paginas/matriculacion.html">Matriculación</a></li>
                        <li><a href="../paginas/prueba.html">Prueba</a></li>
                    </ul>
                </li>

                <li class="submenu">
                    <a href="#">Consultas</a>
                    <ul>
                        <li><a href="../paginas/clima.html">Clima</a></li>
                        <li><a href="../paginas/paises.html">Países</a></li>
                        <li><a href="../paginas/pokemon.html">Pokémon</a></li>
                        <li><a href="../paginas/rick_morty.html">Rick & Morty</a></li>
                        <li><a href="../paginas/criptomonedas.html">Criptomonedas</a></li>
                    </ul>
                </li>

                <li class="submenu">
                    <a href="#">Tienda</a>
                    <ul>
                        <li><a href="../paginas/productos.html">Productos</a></li>
                        <li><a href="../paginas/imagenes.html">Imágenes</a></li>
                    </ul>
                </li>

                <li class="submenu">
                    <a href="#">Multimedia</a>
                    <ul>
                        <li><a href="../paginas/multimedia1.html">Mapa</a></li>
                        <li><a href="../paginas/multimedia2.html">YouTube</a></li>
                        <li><a href="../paginas/multimedia3.html">Videos & Audios</a></li>
                    </ul>
                </li>

                <li class="submenu">
                    <a href="#">Red Social</a>
                    <ul>
                        <li><a href="../paginas/redsocial.html">Red Social</a></li>
                        <li><a href="../paginas/comentario.html">Comentarios</a></li>
                        <li><a href="../paginas/noticias.html">Noticias</a></li>
                    </ul>
                </li>

                <li class="submenu">
                    <a href="#">Menús</a>
                    <ul>
                        <li><a href="../paginas/menu1.html">Menu1</a></li>
                        <li><a href="../paginas/menu2.html">Menu2</a></li>
                        <li><a href="../paginas/menu3.html">Menu3</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>

    <script>
        // Funcionalidad móvil del menú
        const toggle = document.getElementById('mobile-toggle');
        const menu = document.querySelector('.menu');

        toggle.addEventListener('click', () => {
            menu.classList.toggle('show');
        });

        document.querySelectorAll('.menu .submenu > a').forEach(link => {
            link.addEventListener('click', e => {
                if (menu.classList.contains('show')) {
                    e.preventDefault();
                    link.parentElement.classList.toggle('open');
                }
            });
        });
    </script>

    <!-- Imagen principal -->
    <section class="imagen-principal" style="text-align:center; padding:20px 0;">
        <img src="../statics/images/fondo.png" alt="Imagen principal" style="max-width: 180px; width:100%; border-radius:10px;">
    </section>

    <!-- CONTENIDO: FORMULARIO -->
    <main class="contenido">
        <section class="formulario-matricula" style="max-width:760px; margin: 20px auto;">

            <h1 style="text-align:center; margin-bottom:18px;">Formulario de Inscripción</h1>

            <form id="formInscripcion" class="formulario" autocomplete="off" novalidate>
                <div class="campo">
                    <label for="firstName">Nombre</label>
                    <input type="text" id="firstName" name="firstName" required>
                </div>

                <div class="campo">
                    <label for="lastName">Apellido</label>
                    <input type="text" id="lastName" name="lastName" required>
                </div>

                <div class="campo">
                    <label for="correo">Email</label>
                    <input type="email" id="correo" name="correo" required>
                </div>

                <fieldset style="border:0; padding:0; margin:0 0 12px 0;">
                    <legend style="font-weight:600; color:#4b3fa3; margin-bottom:8px;">Curso</legend>
                    <div class="cursos" style="display:flex; gap:12px; flex-wrap:wrap;">
                        <label><input type="radio" name="curso" value="Python" required> Python</label>
                        <label><input type="radio" name="curso" value="Java"> Java</label>
                        <label><input type="radio" name="curso" value="SQL"> SQL</label>
                        <label><input type="radio" name="curso" value="CSS"> CSS</label>
                    </div>
                </fieldset>

                <button type="submit" id="btnEnviarDatos" class="formulario button-primary" style="width:100%; padding:12px; border-radius:10px; background:#8c7ae6; color:#fff; border:none; cursor:pointer;">
                    Enviar datos
                </button>

                <p id="resultado" style="margin-top:14px; text-align:center; font-weight:600;"></p>
            </form>
        </section>
    </main>


    <!-- ACCESOS RÁPIDOS -->
    <section class="accesos-flotante">
        <input type="checkbox" id="toggle-accesos" hidden>
        <label for="toggle-accesos" class="btn-toggle">⚡</label>
        <div class="tarjeta-accesos">
            <h2>Accesos rápidos</h2>
            <div class="botones-rapidos">
                <a href="../index.html" class="btn-rapido">Inicio</a>
                <a href="../paginas/banco_tabla.html" class="btn-rapido">Banco - Tabla</a>
                <a href="../paginas/banco_miembros.html" class="btn-rapido">Banco - Miembros</a>
                <a href="../paginas/galeria.html" class="btn-rapido">Galería</a>
                <a href="../paginas/operaciones.html" class="btn-rapido">Operaciones</a>
                <a href="../paginas/clima.html" class="btn-rapido">Clima</a>
                <a href="../paginas/paises.html" class="btn-rapido">Países</a>
                <a href="../paginas/pokemon.html" class="btn-rapido">Pokémon</a>
                <a href="../paginas/rick_morty.html" class="btn-rapido">Rick & Morty</a>
                <a href="../paginas/criptomonedas.html" class="btn-rapido">Criptomonedas</a>
                <a href="../paginas/matriculacion.html" class="btn-rapido">Matriculación</a>
                <a href="../paginas/prueba.html" class="btn-rapido">Prueba</a>
                <a href="../paginas/redsocial.html" class="btn-rapido">Red Social</a>
                <a href="../paginas/comentarios.html" class="btn-rapido">Comentarios</a>
                <a href="../paginas/noticias.html" class="btn-rapido">Noticias</a>
                <a href="../paginas/multimedia.html" class="btn-rapido">Multimedia 1</a>
                <a href="../paginas/multimedia2.html" class="btn-rapido">Multimedia 2</a>
                <a href="../paginas/multimedia3.html" class="btn-rapido">Multimedia 3</a>
                <a href="../paginas/menu1.html" class="btn-rapido">Menu1</a>
                <a href="../paginas/menu2.html" class="btn-rapido">Menu2</a>
                <a href="../paginas/menu3.html" class="btn-rapido">Menu3</a>
                <a href="../paginas/productos.html" class="btn-rapido">Productos</a>
                <a href="../paginas/imagenes.html" class="btn-rapido">Imágenes</a>
            </div>
        </div>
    </section>
    </main>
    <!-- FOOTER -->
    <footer class="footer" style="margin-top:30px;">
        © 2025 – Nestor Diosnel Ruiz Rotela | Todos los derechos reservados.
    </footer>

    <!-- Fallback JS: si ../js/inscripcion.js no maneja el submit mostramos mensaje -->
    <script>
    (function(){
        const form = document.getElementById('formInscripcion');
        const resultado = document.getElementById('resultado');

        // Si ya existe un manejador en inscripcion.js no se interferirá (este es idempotente).
        form.addEventListener('submit', function(e){
            // detecta si inscripcion.js previno por completo el submit (si hizo e.preventDefault())
            // Si no, evitamos el envío real y mostramos feedback sencillo.
            if (!e.defaultPrevented) {
                e.preventDefault();
                const fn = (document.getElementById('firstName')||{}).value || '';
                const ln = (document.getElementById('lastName')||{}).value || '';
                const curso = (form.querySelector('input[name="curso"]:checked')||{}).value || '';
                resultado.textContent = `¡${fn} ${ln}, tu inscripción para "${curso || 'el curso seleccionado'}" fue registrada!`;
                // si querés, aquí podríamos invocar emailjs.send(...) si lo deseás y tenés la plantilla
            }
        }, { once: false });
    })();
    </script>
</body>
</html>
